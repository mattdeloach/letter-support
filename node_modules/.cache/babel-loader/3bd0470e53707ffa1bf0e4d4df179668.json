{"ast":null,"code":"import { useContext } from 'react';\nimport { ChatContext } from '../../../context/Context';\nimport { isIterableArray } from '../../../helpers/utils';\nimport PropTypes from 'prop-types';\n\nconst LastMessage = (lastMessage, thread) => {\n  const {\n    users\n  } = useContext(ChatContext);\n  const user = users.find(({\n    id\n  }) => id === (lastMessage === null || lastMessage === void 0 ? void 0 : lastMessage.senderUserId));\n  const name = user === null || user === void 0 ? void 0 : user.name.split(' ');\n  const lastMassagePreview = (lastMessage === null || lastMessage === void 0 ? void 0 : lastMessage.messageType) === 'attachment' ? `${name[0]} sent ${lastMessage.attachment}` : lastMessage === null || lastMessage === void 0 ? void 0 : lastMessage.message.split('<br>');\n\n  if (!!lastMessage) {\n    if (lastMessage.senderUserId === 3) {\n      return `You: ${lastMassagePreview[0]}`;\n    }\n\n    if (isIterableArray(thread.userId)) {\n      return `${name[0]}: ${lastMassagePreview}`;\n    }\n\n    return `${lastMassagePreview}`;\n  }\n\n  return 'Say hi to your new friend';\n};\n\nLastMessage.propTypes = {\n  thread: PropTypes.object.isRequired,\n  lastMessage: PropTypes.object.isRequired\n};\nexport default LastMessage;","map":{"version":3,"sources":["/Users/greypro/Documents/Dev/letter/letter-support/src/components/chat/sidebar/LastMessage.js"],"names":["useContext","ChatContext","isIterableArray","PropTypes","LastMessage","lastMessage","thread","users","user","find","id","senderUserId","name","split","lastMassagePreview","messageType","attachment","message","userId","propTypes","object","isRequired"],"mappings":"AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,WAAT,QAA4B,0BAA5B;AACA,SAASC,eAAT,QAAgC,wBAAhC;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,MAAMC,WAAW,GAAG,CAACC,WAAD,EAAcC,MAAd,KAAyB;AAC3C,QAAM;AAAEC,IAAAA;AAAF,MAAYP,UAAU,CAACC,WAAD,CAA5B;AACA,QAAMO,IAAI,GAAGD,KAAK,CAACE,IAAN,CAAW,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAYA,EAAE,MAAKL,WAAL,aAAKA,WAAL,uBAAKA,WAAW,CAAEM,YAAlB,CAAzB,CAAb;AACA,QAAMC,IAAI,GAAGJ,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEI,IAAN,CAAWC,KAAX,CAAiB,GAAjB,CAAb;AACA,QAAMC,kBAAkB,GACtB,CAAAT,WAAW,SAAX,IAAAA,WAAW,WAAX,YAAAA,WAAW,CAAEU,WAAb,MAA6B,YAA7B,GACK,GAAEH,IAAI,CAAC,CAAD,CAAI,SAAQP,WAAW,CAACW,UAAW,EAD9C,GAEIX,WAFJ,aAEIA,WAFJ,uBAEIA,WAAW,CAAEY,OAAb,CAAqBJ,KAArB,CAA2B,MAA3B,CAHN;;AAKA,MAAI,CAAC,CAACR,WAAN,EAAmB;AACjB,QAAIA,WAAW,CAACM,YAAZ,KAA6B,CAAjC,EAAoC;AAClC,aAAQ,QAAOG,kBAAkB,CAAC,CAAD,CAAI,EAArC;AACD;;AAED,QAAIZ,eAAe,CAACI,MAAM,CAACY,MAAR,CAAnB,EAAoC;AAClC,aAAQ,GAAEN,IAAI,CAAC,CAAD,CAAI,KAAIE,kBAAmB,EAAzC;AACD;;AAED,WAAQ,GAAEA,kBAAmB,EAA7B;AACD;;AAED,SAAO,2BAAP;AACD,CAtBD;;AAuBAV,WAAW,CAACe,SAAZ,GAAwB;AACtBb,EAAAA,MAAM,EAAEH,SAAS,CAACiB,MAAV,CAAiBC,UADH;AAEtBhB,EAAAA,WAAW,EAAEF,SAAS,CAACiB,MAAV,CAAiBC;AAFR,CAAxB;AAKA,eAAejB,WAAf","sourcesContent":["import { useContext } from 'react';\r\nimport { ChatContext } from '../../../context/Context';\r\nimport { isIterableArray } from '../../../helpers/utils';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst LastMessage = (lastMessage, thread) => {\r\n  const { users } = useContext(ChatContext);\r\n  const user = users.find(({ id }) => id === lastMessage?.senderUserId);\r\n  const name = user?.name.split(' ');\r\n  const lastMassagePreview =\r\n    lastMessage?.messageType === 'attachment'\r\n      ? `${name[0]} sent ${lastMessage.attachment}`\r\n      : lastMessage?.message.split('<br>');\r\n\r\n  if (!!lastMessage) {\r\n    if (lastMessage.senderUserId === 3) {\r\n      return `You: ${lastMassagePreview[0]}`;\r\n    }\r\n\r\n    if (isIterableArray(thread.userId)) {\r\n      return `${name[0]}: ${lastMassagePreview}`;\r\n    }\r\n\r\n    return `${lastMassagePreview}`;\r\n  }\r\n\r\n  return 'Say hi to your new friend';\r\n};\r\nLastMessage.propTypes = {\r\n  thread: PropTypes.object.isRequired,\r\n  lastMessage: PropTypes.object.isRequired\r\n};\r\n\r\nexport default LastMessage;\r\n"]},"metadata":{},"sourceType":"module"}