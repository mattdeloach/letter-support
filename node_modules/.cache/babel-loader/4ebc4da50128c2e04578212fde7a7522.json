{"ast":null,"code":"var _jsxFileName = \"/Users/greypro/Documents/Dev/letter/letter-support/src/components/page/Invoice.js\";\nimport React, { Fragment, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Card, CardBody, CardFooter, Col, Row, Table } from 'reactstrap';\nimport Loader from '../common/Loader';\nimport ButtonIcon from '../common/ButtonIcon';\nimport createMarkup from '../../helpers/createMarkup';\nimport { isIterableArray } from '../../helpers/utils';\nimport useFakeFetch from '../../hooks/useFakeFetch';\nimport rawInvoice from '../../data/invoice/invoice';\n\nconst calculateSubtotal = products => {\n  return products.reduce((currentValue, product) => {\n    return product.quantity * product.rate + currentValue;\n  }, 0);\n};\n\nconst formatCurrency = (number, currency) => `${currency}${number.toFixed(2).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1,')}`;\n\nconst ProductTr = ({\n  name,\n  description,\n  quantity,\n  rate\n}) => {\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"align-middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mb-0 text-nowrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  }, name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, description)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"align-middle text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, quantity), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"align-middle text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, \"$\", rate), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"align-middle text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, \"$\", quantity * rate));\n};\n\nProductTr.propTypes = {\n  name: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  quantity: PropTypes.number.isRequired,\n  rate: PropTypes.number.isRequired\n};\n\nconst InvoiceHeader = ({\n  institution,\n  logo,\n  address\n}) => /*#__PURE__*/React.createElement(Row, {\n  className: \"align-items-center text-center mb-3\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(Col, {\n  sm: 6,\n  className: \"text-sm-left\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"img\", {\n  src: logo,\n  alt: \"invoice\",\n  width: 150,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 7\n  }\n})), /*#__PURE__*/React.createElement(Col, {\n  className: \"text-sm-right mt-3 mt-sm-0\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"h2\", {\n  className: \"mb-3\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 7\n  }\n}, \"Invoice\"), /*#__PURE__*/React.createElement(\"h5\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 7\n  }\n}, institution), address && /*#__PURE__*/React.createElement(\"p\", {\n  className: \"fs--1 mb-0\",\n  dangerouslySetInnerHTML: createMarkup(address),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 19\n  }\n})), /*#__PURE__*/React.createElement(Col, {\n  xs: 12,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"hr\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 7\n  }\n})));\n\nInvoiceHeader.propTypes = {\n  institution: PropTypes.string.isRequired,\n  logo: PropTypes.string.isRequired,\n  address: PropTypes.string\n};\n\nconst Invoice = () => {\n  const [subtotal, setSubtotal] = useState(0);\n  const [tax, setTax] = useState(0);\n  const [total, setTotal] = useState(0);\n  const {\n    loading: invoiceLoading,\n    data: invoice\n  } = useFakeFetch(rawInvoice);\n  useEffect(() => {\n    if (isIterableArray(invoice.products)) {\n      setSubtotal(calculateSubtotal(invoice.products));\n    }\n  }, [invoice]);\n  useEffect(() => {\n    setTax(subtotal * invoice.tax);\n  }, [subtotal, invoice]);\n  useEffect(() => {\n    setTotal(subtotal + tax);\n  }, [subtotal, tax]);\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-between align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"mb-2 mb-md-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, \"Order #\", invoiceLoading ? '' : invoice.summary.order_number)), /*#__PURE__*/React.createElement(Col, {\n    xs: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ButtonIcon, {\n    color: \"falcon-default\",\n    size: \"sm\",\n    icon: \"arrow-down\",\n    className: \"mr-2 mb-2 mb-sm-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, \"Download (.pdf)\"), /*#__PURE__*/React.createElement(ButtonIcon, {\n    color: \"falcon-default\",\n    size: \"sm\",\n    icon: \"print\",\n    className: \"mr-2 mb-2 mb-sm-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, \"Print\"), /*#__PURE__*/React.createElement(ButtonIcon, {\n    color: \"falcon-success\",\n    size: \"sm\",\n    icon: \"dollar-sign\",\n    className: \"mb-2 mb-sm-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, \"Receive Payment\"))))), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, invoiceLoading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(InvoiceHeader, {\n    institution: invoice.institution,\n    logo: invoice.logo,\n    address: invoice.address,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }), invoiceLoading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-between align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"text-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, \"Invoice to\"), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, invoice.user.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"fs--1\",\n    dangerouslySetInnerHTML: createMarkup(invoice.user.address),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"fs--1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: `mailto:${invoice.user.email}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 19\n    }\n  }, invoice.user.email), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    href: `tel:${invoice.user.cell.split('-').join('')}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 19\n    }\n  }, invoice.user.cell))), /*#__PURE__*/React.createElement(Col, {\n    sm: \"auto\",\n    className: \"ml-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table-responsive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    size: \"sm\",\n    borderless: true,\n    className: \"fs--1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-sm-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }, \"Invoice No:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, invoice.summary.invoice_no)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-sm-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 25\n    }\n  }, \"Order Number:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }\n  }, invoice.summary.order_number)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-sm-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 25\n    }\n  }, \"Invoice Date:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }, invoice.summary.invoice_date)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-sm-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }, \"Payment Due:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 25\n    }\n  }, invoice.summary.payment_due)), /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"alert-success font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-sm-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }, \"Amount Due:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 25\n    }\n  }, formatCurrency(invoice.summary.amount_due, invoice.currency)))))))), invoiceLoading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table-responsive mt-4 fs--1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    className: \"border-bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"bg-primary text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 21\n    }\n  }, \"Products\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-0 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 21\n    }\n  }, \"Quantity\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-0 text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 21\n    }\n  }, \"Rate\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-0 text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  }, \"Amount\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }, isIterableArray(invoice.products) && invoice.products.map((product, index) => /*#__PURE__*/React.createElement(ProductTr, Object.assign({}, product, {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 62\n    }\n  })))))), invoiceLoading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(Row, {\n    noGutters: true,\n    className: \"justify-content-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    size: \"sm\",\n    borderless: true,\n    className: \"fs--1 text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-900\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 23\n    }\n  }, \"Subtotal:\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"font-weight-semi-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 23\n    }\n  }, formatCurrency(subtotal, invoice.currency))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-900\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 23\n    }\n  }, \"Tax 8%:\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"font-weight-semi-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 23\n    }\n  }, formatCurrency(tax, invoice.currency))), /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"border-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-900\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 23\n    }\n  }, \"Total:\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"font-weight-semi-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 23\n    }\n  }, formatCurrency(total, invoice.currency))), /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"border-top border-2x font-weight-bold text-900\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 23\n    }\n  }, \"Amount Due:\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 23\n    }\n  }, formatCurrency(invoice.summary.amount_due + total, invoice.currency)))))))), /*#__PURE__*/React.createElement(CardFooter, {\n    className: \"bg-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"fs--1 mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }, \"Notes: \"), \"We really appreciate your business and if there\\u2019s anything else we can do, please let us know!\"))));\n};\n\nexport default Invoice;","map":{"version":3,"sources":["/Users/greypro/Documents/Dev/letter/letter-support/src/components/page/Invoice.js"],"names":["React","Fragment","useEffect","useState","PropTypes","Card","CardBody","CardFooter","Col","Row","Table","Loader","ButtonIcon","createMarkup","isIterableArray","useFakeFetch","rawInvoice","calculateSubtotal","products","reduce","currentValue","product","quantity","rate","formatCurrency","number","currency","toFixed","replace","ProductTr","name","description","propTypes","string","isRequired","InvoiceHeader","institution","logo","address","Invoice","subtotal","setSubtotal","tax","setTax","total","setTotal","loading","invoiceLoading","data","invoice","summary","order_number","user","email","cell","split","join","invoice_no","invoice_date","payment_due","amount_due","map","index"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Card, CardBody, CardFooter, Col, Row, Table } from 'reactstrap';\nimport Loader from '../common/Loader';\nimport ButtonIcon from '../common/ButtonIcon';\nimport createMarkup from '../../helpers/createMarkup';\nimport { isIterableArray } from '../../helpers/utils';\nimport useFakeFetch from '../../hooks/useFakeFetch';\nimport rawInvoice from '../../data/invoice/invoice';\n\nconst calculateSubtotal = products => {\n  return products.reduce((currentValue, product) => {\n    return product.quantity * product.rate + currentValue;\n  }, 0);\n};\n\nconst formatCurrency = (number, currency) =>\n  `${currency}${number.toFixed(2).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1,')}`;\n\nconst ProductTr = ({ name, description, quantity, rate }) => {\n  return (\n    <tr>\n      <td className=\"align-middle\">\n        <h6 className=\"mb-0 text-nowrap\">{name}</h6>\n        <p className=\"mb-0\">{description}</p>\n      </td>\n      <td className=\"align-middle text-center\">{quantity}</td>\n      <td className=\"align-middle text-right\">${rate}</td>\n      <td className=\"align-middle text-right\">${quantity * rate}</td>\n    </tr>\n  );\n};\n\nProductTr.propTypes = {\n  name: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  quantity: PropTypes.number.isRequired,\n  rate: PropTypes.number.isRequired\n};\n\nconst InvoiceHeader = ({ institution, logo, address }) => (\n  <Row className=\"align-items-center text-center mb-3\">\n    <Col sm={6} className=\"text-sm-left\">\n      <img src={logo} alt=\"invoice\" width={150} />\n    </Col>\n    <Col className=\"text-sm-right mt-3 mt-sm-0\">\n      <h2 className=\"mb-3\">Invoice</h2>\n      <h5>{institution}</h5>\n      {address && <p className=\"fs--1 mb-0\" dangerouslySetInnerHTML={createMarkup(address)} />}\n    </Col>\n    <Col xs={12}>\n      <hr />\n    </Col>\n  </Row>\n);\n\nInvoiceHeader.propTypes = {\n  institution: PropTypes.string.isRequired,\n  logo: PropTypes.string.isRequired,\n  address: PropTypes.string\n};\n\nconst Invoice = () => {\n  const [subtotal, setSubtotal] = useState(0);\n  const [tax, setTax] = useState(0);\n  const [total, setTotal] = useState(0);\n  const { loading: invoiceLoading, data: invoice } = useFakeFetch(rawInvoice);\n\n  useEffect(() => {\n    if (isIterableArray(invoice.products)) {\n      setSubtotal(calculateSubtotal(invoice.products));\n    }\n  }, [invoice]);\n\n  useEffect(() => {\n    setTax(subtotal * invoice.tax);\n  }, [subtotal, invoice]);\n\n  useEffect(() => {\n    setTotal(subtotal + tax);\n  }, [subtotal, tax]);\n\n  return (\n    <Fragment>\n      <Card className=\"mb-3\">\n        <CardBody>\n          <Row className=\"justify-content-between align-items-center\">\n            <Col md>\n              <h5 className=\"mb-2 mb-md-0\">Order #{invoiceLoading ? '' : invoice.summary.order_number}</h5>\n            </Col>\n            <Col xs=\"auto\">\n              <ButtonIcon color=\"falcon-default\" size=\"sm\" icon=\"arrow-down\" className=\"mr-2 mb-2 mb-sm-0\">\n                Download (.pdf)\n              </ButtonIcon>\n              <ButtonIcon color=\"falcon-default\" size=\"sm\" icon=\"print\" className=\"mr-2 mb-2 mb-sm-0\">\n                Print\n              </ButtonIcon>\n              <ButtonIcon color=\"falcon-success\" size=\"sm\" icon=\"dollar-sign\" className=\"mb-2 mb-sm-0\">\n                Receive Payment\n              </ButtonIcon>\n            </Col>\n          </Row>\n        </CardBody>\n      </Card>\n\n      <Card>\n        <CardBody>\n          {invoiceLoading ? (\n            <Loader />\n          ) : (\n            <InvoiceHeader institution={invoice.institution} logo={invoice.logo} address={invoice.address} />\n          )}\n\n          {invoiceLoading ? (\n            <Loader />\n          ) : (\n            <Row className=\"justify-content-between align-items-center\">\n              <Col>\n                <h6 className=\"text-500\">Invoice to</h6>\n                <h5>{invoice.user.name}</h5>\n                <p className=\"fs--1\" dangerouslySetInnerHTML={createMarkup(invoice.user.address)} />\n                <p className=\"fs--1\">\n                  <a href={`mailto:${invoice.user.email}`}>{invoice.user.email}</a>\n                  <br />\n                  <a href={`tel:${invoice.user.cell.split('-').join('')}`}>{invoice.user.cell}</a>\n                </p>\n              </Col>\n              <Col sm=\"auto\" className=\"ml-auto\">\n                <div className=\"table-responsive\">\n                  <Table size=\"sm\" borderless className=\"fs--1\">\n                    <tbody>\n                      <tr>\n                        <th className=\"text-sm-right\">Invoice No:</th>\n                        <td>{invoice.summary.invoice_no}</td>\n                      </tr>\n                      <tr>\n                        <th className=\"text-sm-right\">Order Number:</th>\n                        <td>{invoice.summary.order_number}</td>\n                      </tr>\n                      <tr>\n                        <th className=\"text-sm-right\">Invoice Date:</th>\n                        <td>{invoice.summary.invoice_date}</td>\n                      </tr>\n                      <tr>\n                        <th className=\"text-sm-right\">Payment Due:</th>\n                        <td>{invoice.summary.payment_due}</td>\n                      </tr>\n                      <tr className=\"alert-success font-weight-bold\">\n                        <th className=\"text-sm-right\">Amount Due:</th>\n                        <td>{formatCurrency(invoice.summary.amount_due, invoice.currency)}</td>\n                      </tr>\n                    </tbody>\n                  </Table>\n                </div>\n              </Col>\n            </Row>\n          )}\n\n          {invoiceLoading ? (\n            <Loader />\n          ) : (\n            <div className=\"table-responsive mt-4 fs--1\">\n              <Table striped className=\"border-bottom\">\n                <thead>\n                  <tr className=\"bg-primary text-white\">\n                    <th className=\"border-0\">Products</th>\n                    <th className=\"border-0 text-center\">Quantity</th>\n                    <th className=\"border-0 text-right\">Rate</th>\n                    <th className=\"border-0 text-right\">Amount</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {isIterableArray(invoice.products) &&\n                    invoice.products.map((product, index) => <ProductTr {...product} key={index} />)}\n                </tbody>\n              </Table>\n            </div>\n          )}\n\n          {invoiceLoading ? (\n            <Loader />\n          ) : (\n            <Row noGutters className=\"justify-content-end\">\n              <Col xs=\"auto\">\n                <Table size=\"sm\" borderless className=\"fs--1 text-right\">\n                  <tbody>\n                    <tr>\n                      <th className=\"text-900\">Subtotal:</th>\n                      <td className=\"font-weight-semi-bold\">{formatCurrency(subtotal, invoice.currency)}</td>\n                    </tr>\n                    <tr>\n                      <th className=\"text-900\">Tax 8%:</th>\n                      <td className=\"font-weight-semi-bold\">{formatCurrency(tax, invoice.currency)}</td>\n                    </tr>\n                    <tr className=\"border-top\">\n                      <th className=\"text-900\">Total:</th>\n                      <td className=\"font-weight-semi-bold\">{formatCurrency(total, invoice.currency)}</td>\n                    </tr>\n                    <tr className=\"border-top border-2x font-weight-bold text-900\">\n                      <th>Amount Due:</th>\n                      <td>{formatCurrency(invoice.summary.amount_due + total, invoice.currency)}</td>\n                    </tr>\n                  </tbody>\n                </Table>\n              </Col>\n            </Row>\n          )}\n        </CardBody>\n        <CardFooter className=\"bg-light\">\n          <p className=\"fs--1 mb-0\">\n            <strong>Notes: </strong>We really appreciate your business and if there’s anything else we can do, please\n            let us know!\n          </p>\n        </CardFooter>\n      </Card>\n    </Fragment>\n  );\n};\n\nexport default Invoice;\n"]},"metadata":{},"sourceType":"module"}