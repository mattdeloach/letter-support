{"ast":null,"code":"var _jsxFileName = \"/Users/matt/Documents/Dev/letter/letter-support/src/components/calendar/Calendar.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Button, Card, CardBody, CardHeader, Col, Row, UncontrolledTooltip } from 'reactstrap';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport bootstrapPlugin from '@fullcalendar/bootstrap';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport listPlugin from '@fullcalendar/list';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport DropdownFilter from '../email/inbox/DropdownFilter';\nimport CalendarEventModal from './CalendarEventModal';\nimport AddScheduleModal from './AddScheduleModal';\nimport Flex from '../common/Flex';\nimport events from '../../data/calendar/events';\n\nconst Calendar = () => {\n  var _calendarApi$currentD, _calendarApi$currentD2;\n\n  const calendarRef = useRef();\n  const [calendarApi, setCalendarApi] = useState({});\n  const [title, setTitle] = useState('');\n  const [currentFilter, setCurrentFilter] = useState('Month View');\n  const [isOpenModal, setIsOpenModal] = useState(false);\n  const [isOpenScheduleModal, setIsOpenScheduleModal] = useState(false);\n  const [modalEventContent, setModalEventContent] = useState(false);\n  const [addScheduleStartDate, setAddScheduleStartDate] = useState();\n  const buttonText = {\n    today: 'Today',\n    month: 'Month view',\n    week: 'week',\n    day: 'day',\n    listWeek: 'list view',\n    listYear: 'year'\n  };\n  const eventTimeFormat = {\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: true\n  };\n  const viewName = ['Month View', 'Week View', 'Day View', 'List View', 'Year View'];\n  const views = {\n    week: {\n      eventLimit: 3\n    }\n  };\n  const eventList = events.reduce((acc, event) => event.schedules ? acc.concat(event.schedules.concat(event)) : acc.concat(event), []);\n  const [initialEvents, setInitialEvents] = useState(eventList);\n  useEffect(() => {\n    setCalendarApi(calendarRef.current.getApi());\n  }, []);\n\n  const handleFilter = filter => {\n    setCurrentFilter(filter);\n\n    switch (filter) {\n      case 'Month View':\n        calendarApi.changeView('dayGridMonth');\n        setTitle(calendarApi.getCurrentData().viewTitle);\n        break;\n\n      case 'Week View':\n        calendarApi.changeView('timeGridWeek');\n        setTitle(calendarApi.getCurrentData().viewTitle);\n        break;\n\n      case 'Day View':\n        calendarApi.changeView('timeGridDay');\n        setTitle(calendarApi.getCurrentData().viewTitle);\n        break;\n\n      case 'List View':\n        calendarApi.changeView('listWeek');\n        setTitle(calendarApi.getCurrentData().viewTitle);\n        break;\n\n      default:\n        calendarApi.changeView('listYear');\n        setTitle(calendarApi.getCurrentData().viewTitle);\n    }\n  };\n\n  const handleEventClick = info => {\n    if (info.event.url) {\n      window.open(info.event.url);\n      info.jsEvent.preventDefault();\n    } else {\n      setModalEventContent(info);\n      setIsOpenModal(true);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    noGutters: true,\n    className: \"align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: \"auto\",\n    className: \"d-flex justify-content-end order-md-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UncontrolledTooltip, {\n    placement: \"bottom\",\n    target: \"previous\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, \"Previous\"), /*#__PURE__*/React.createElement(UncontrolledTooltip, {\n    placement: \"bottom\",\n    target: \"next\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, \"Next\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      calendarApi.prev();\n      setTitle(calendarApi.getCurrentData().viewTitle);\n    },\n    color: \"link\",\n    className: \"icon-item icon-item-sm icon-item-hover shadow-none p-0 mr-1 ml-md-2\",\n    id: \"previous\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: \"arrow-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      calendarApi.next();\n      setTitle(calendarApi.getCurrentData().viewTitle);\n    },\n    color: \"link\",\n    className: \"icon-item icon-item-sm icon-item-hover shadow-none p-0 mr-1\",\n    id: \"next\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: \"arrow-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    xs: \"auto\",\n    md: \"auto\",\n    className: \"order-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"mb-0 fs-0 fs-sm-1 fs-lg-2 calendar-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, title || `${(_calendarApi$currentD = calendarApi.currentDataManager) === null || _calendarApi$currentD === void 0 ? void 0 : (_calendarApi$currentD2 = _calendarApi$currentD.data) === null || _calendarApi$currentD2 === void 0 ? void 0 : _calendarApi$currentD2.viewTitle}`)), /*#__PURE__*/React.createElement(Col, {\n    xs: true,\n    md: \"auto\",\n    tag: Flex,\n    justify: \"end\",\n    className: \"order-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"sm\",\n    color: \"falcon-primary\",\n    onClick: () => {\n      calendarApi.today();\n      setTitle(calendarApi.getCurrentData().viewTitle);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 15\n    }\n  }, \"Today\")), /*#__PURE__*/React.createElement(Col, {\n    md: \"auto\",\n    className: \"d-md-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    xs: \"auto\",\n    className: \"d-flex order-md-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    size: \"sm\",\n    onClick: () => setIsOpenScheduleModal(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: \"plus\",\n    className: \"mr-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }), \" Add Schedule\")), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex justify-content-end order-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DropdownFilter, {\n    className: \"mr-2\",\n    filters: viewName,\n    currentFilter: currentFilter,\n    handleFilter: handleFilter,\n    icon: \"sort\",\n    right: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(CardBody, {\n    className: \"p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FullCalendar, {\n    ref: calendarRef,\n    headerToolbar: false,\n    plugins: [dayGridPlugin, bootstrapPlugin, timeGridPlugin, interactionPlugin, listPlugin],\n    initialView: \"dayGridMonth\",\n    themeSystem: \"bootstrap\",\n    dayMaxEvents: 2,\n    height: 800,\n    stickyHeaderDates: false,\n    editable: true,\n    selectable: true,\n    selectMirror: true,\n    select: info => {\n      setIsOpenScheduleModal(true);\n      setAddScheduleStartDate(info.start);\n    },\n    views: views,\n    eventTimeFormat: eventTimeFormat,\n    eventClick: handleEventClick,\n    events: initialEvents,\n    buttonText: buttonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(AddScheduleModal, {\n    isOpenScheduleModal: isOpenScheduleModal,\n    setIsOpenScheduleModal: setIsOpenScheduleModal,\n    initialEvents: initialEvents,\n    setInitialEvents: setInitialEvents,\n    addScheduleStartDate: addScheduleStartDate,\n    setAddScheduleStartDate: setAddScheduleStartDate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(CalendarEventModal, {\n    isOpenModal: isOpenModal,\n    setIsOpenModal: setIsOpenModal,\n    modalEventContent: modalEventContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Calendar;","map":{"version":3,"sources":["/Users/matt/Documents/Dev/letter/letter-support/src/components/calendar/Calendar.js"],"names":["React","useEffect","useRef","useState","Button","Card","CardBody","CardHeader","Col","Row","UncontrolledTooltip","FullCalendar","dayGridPlugin","bootstrapPlugin","timeGridPlugin","listPlugin","interactionPlugin","FontAwesomeIcon","DropdownFilter","CalendarEventModal","AddScheduleModal","Flex","events","Calendar","calendarRef","calendarApi","setCalendarApi","title","setTitle","currentFilter","setCurrentFilter","isOpenModal","setIsOpenModal","isOpenScheduleModal","setIsOpenScheduleModal","modalEventContent","setModalEventContent","addScheduleStartDate","setAddScheduleStartDate","buttonText","today","month","week","day","listWeek","listYear","eventTimeFormat","hour","minute","omitZeroMinute","meridiem","viewName","views","eventLimit","eventList","reduce","acc","event","schedules","concat","initialEvents","setInitialEvents","current","getApi","handleFilter","filter","changeView","getCurrentData","viewTitle","handleEventClick","info","url","window","open","jsEvent","preventDefault","prev","next","currentDataManager","data","start"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { Button, Card, CardBody, CardHeader, Col, Row, UncontrolledTooltip } from 'reactstrap';\r\nimport FullCalendar from '@fullcalendar/react';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport bootstrapPlugin from '@fullcalendar/bootstrap';\r\nimport timeGridPlugin from '@fullcalendar/timegrid';\r\nimport listPlugin from '@fullcalendar/list';\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport DropdownFilter from '../email/inbox/DropdownFilter';\r\nimport CalendarEventModal from './CalendarEventModal';\r\nimport AddScheduleModal from './AddScheduleModal';\r\nimport Flex from '../common/Flex';\r\n\r\nimport events from '../../data/calendar/events';\r\n\r\nconst Calendar = () => {\r\n  const calendarRef = useRef();\r\n  const [calendarApi, setCalendarApi] = useState({});\r\n  const [title, setTitle] = useState('');\r\n  const [currentFilter, setCurrentFilter] = useState('Month View');\r\n  const [isOpenModal, setIsOpenModal] = useState(false);\r\n  const [isOpenScheduleModal, setIsOpenScheduleModal] = useState(false);\r\n  const [modalEventContent, setModalEventContent] = useState(false);\r\n  const [addScheduleStartDate, setAddScheduleStartDate] = useState();\r\n\r\n  const buttonText = {\r\n    today: 'Today',\r\n    month: 'Month view',\r\n    week: 'week',\r\n    day: 'day',\r\n    listWeek: 'list view',\r\n    listYear: 'year'\r\n  };\r\n\r\n  const eventTimeFormat = {\r\n    hour: 'numeric',\r\n    minute: '2-digit',\r\n    omitZeroMinute: true,\r\n    meridiem: true\r\n  };\r\n\r\n  const viewName = ['Month View', 'Week View', 'Day View', 'List View', 'Year View'];\r\n\r\n  const views = {\r\n    week: {\r\n      eventLimit: 3\r\n    }\r\n  };\r\n\r\n  const eventList = events.reduce(\r\n    (acc, event) => (event.schedules ? acc.concat(event.schedules.concat(event)) : acc.concat(event)),\r\n    []\r\n  );\r\n\r\n  const [initialEvents, setInitialEvents] = useState(eventList);\r\n\r\n  useEffect(() => {\r\n    setCalendarApi(calendarRef.current.getApi());\r\n  }, []);\r\n\r\n  const handleFilter = filter => {\r\n    setCurrentFilter(filter);\r\n    switch (filter) {\r\n      case 'Month View':\r\n        calendarApi.changeView('dayGridMonth');\r\n        setTitle(calendarApi.getCurrentData().viewTitle);\r\n        break;\r\n      case 'Week View':\r\n        calendarApi.changeView('timeGridWeek');\r\n        setTitle(calendarApi.getCurrentData().viewTitle);\r\n        break;\r\n      case 'Day View':\r\n        calendarApi.changeView('timeGridDay');\r\n        setTitle(calendarApi.getCurrentData().viewTitle);\r\n        break;\r\n      case 'List View':\r\n        calendarApi.changeView('listWeek');\r\n        setTitle(calendarApi.getCurrentData().viewTitle);\r\n        break;\r\n      default:\r\n        calendarApi.changeView('listYear');\r\n        setTitle(calendarApi.getCurrentData().viewTitle);\r\n    }\r\n  };\r\n\r\n  const handleEventClick = info => {\r\n    if (info.event.url) {\r\n      window.open(info.event.url);\r\n      info.jsEvent.preventDefault();\r\n    } else {\r\n      setModalEventContent(info);\r\n      setIsOpenModal(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Card className=\"mb-3\">\r\n        <CardHeader>\r\n          <Row noGutters className=\"align-items-center\">\r\n            <Col xs=\"auto\" className=\"d-flex justify-content-end order-md-1\">\r\n              <UncontrolledTooltip placement=\"bottom\" target=\"previous\">\r\n                Previous\r\n              </UncontrolledTooltip>\r\n              <UncontrolledTooltip placement=\"bottom\" target=\"next\">\r\n                Next\r\n              </UncontrolledTooltip>\r\n              <Button\r\n                onClick={() => {\r\n                  calendarApi.prev();\r\n                  setTitle(calendarApi.getCurrentData().viewTitle);\r\n                }}\r\n                color=\"link\"\r\n                className=\"icon-item icon-item-sm icon-item-hover shadow-none p-0 mr-1 ml-md-2\"\r\n                id=\"previous\"\r\n              >\r\n                <FontAwesomeIcon icon=\"arrow-left\" />\r\n              </Button>\r\n              <Button\r\n                onClick={() => {\r\n                  calendarApi.next();\r\n                  setTitle(calendarApi.getCurrentData().viewTitle);\r\n                }}\r\n                color=\"link\"\r\n                className=\"icon-item icon-item-sm icon-item-hover shadow-none p-0 mr-1\"\r\n                id=\"next\"\r\n              >\r\n                <FontAwesomeIcon icon=\"arrow-right\" />\r\n              </Button>\r\n            </Col>\r\n            <Col xs=\"auto\" md=\"auto\" className=\"order-md-2\">\r\n              <h4 className=\"mb-0 fs-0 fs-sm-1 fs-lg-2 calendar-title\">\r\n                {title || `${calendarApi.currentDataManager?.data?.viewTitle}`}\r\n              </h4>\r\n            </Col>\r\n            <Col xs md=\"auto\" tag={Flex} justify=\"end\" className=\"order-md-3\">\r\n              <Button\r\n                size=\"sm\"\r\n                color=\"falcon-primary\"\r\n                onClick={() => {\r\n                  calendarApi.today();\r\n                  setTitle(calendarApi.getCurrentData().viewTitle);\r\n                }}\r\n              >\r\n                Today\r\n              </Button>\r\n            </Col>\r\n            <Col md=\"auto\" className=\"d-md-none\">\r\n              <hr />\r\n            </Col>\r\n            <Col xs=\"auto\" className=\"d-flex order-md-0\">\r\n              <Button color=\"primary\" size=\"sm\" onClick={() => setIsOpenScheduleModal(true)}>\r\n                <FontAwesomeIcon icon=\"plus\" className=\"mr-1\" /> Add Schedule\r\n              </Button>\r\n            </Col>\r\n            <Col className=\"d-flex justify-content-end order-md-2\">\r\n              <DropdownFilter\r\n                className=\"mr-2\"\r\n                filters={viewName}\r\n                currentFilter={currentFilter}\r\n                handleFilter={handleFilter}\r\n                icon=\"sort\"\r\n                right\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </CardHeader>\r\n        <CardBody className=\"p-0\">\r\n          <FullCalendar\r\n            ref={calendarRef}\r\n            headerToolbar={false}\r\n            plugins={[dayGridPlugin, bootstrapPlugin, timeGridPlugin, interactionPlugin, listPlugin]}\r\n            initialView=\"dayGridMonth\"\r\n            themeSystem=\"bootstrap\"\r\n            dayMaxEvents={2}\r\n            height={800}\r\n            stickyHeaderDates={false}\r\n            editable\r\n            selectable\r\n            selectMirror\r\n            select={info => {\r\n              setIsOpenScheduleModal(true);\r\n              setAddScheduleStartDate(info.start);\r\n            }}\r\n            views={views}\r\n            eventTimeFormat={eventTimeFormat}\r\n            eventClick={handleEventClick}\r\n            events={initialEvents}\r\n            buttonText={buttonText}\r\n          />\r\n        </CardBody>\r\n      </Card>\r\n\r\n      <AddScheduleModal\r\n        isOpenScheduleModal={isOpenScheduleModal}\r\n        setIsOpenScheduleModal={setIsOpenScheduleModal}\r\n        initialEvents={initialEvents}\r\n        setInitialEvents={setInitialEvents}\r\n        addScheduleStartDate={addScheduleStartDate}\r\n        setAddScheduleStartDate={setAddScheduleStartDate}\r\n      />\r\n\r\n      <CalendarEventModal\r\n        isOpenModal={isOpenModal}\r\n        setIsOpenModal={setIsOpenModal}\r\n        modalEventContent={modalEventContent}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Calendar;\r\n"]},"metadata":{},"sourceType":"module"}