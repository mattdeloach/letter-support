{"ast":null,"code":"var _jsxFileName = \"/Users/matt/Documents/Dev/letter/letter-support/src/components/e-commerce/product/ProductGrid.js\";\nimport React, { useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Badge, Col } from 'reactstrap';\nimport Flex from '../../common/Flex';\nimport { Link } from 'react-router-dom';\nimport { isIterableArray } from '../../../helpers/utils';\nimport Slider from 'react-slick/lib';\nimport StarCount from './StarCount';\nimport classNames from 'classnames';\nimport ButtonIcon from '../../common/ButtonIcon';\nimport AppContext, { ProductContext } from '../../../context/Context';\n\nconst ProductGrid = ({\n  id,\n  files,\n  title,\n  category,\n  price,\n  sale,\n  rating,\n  review,\n  shippingCost,\n  isInStock,\n  isNew,\n  sliderSettings,\n  ...rest\n}) => {\n  const {\n    currency\n  } = useContext(AppContext);\n  const {\n    handleCartAction,\n    isInFavouriteItems,\n    favouriteItemsDispatch\n  } = useContext(ProductContext);\n  const [cartLoading, setCartLoading] = useState(false);\n\n  const handleAddToCart = () => {\n    setCartLoading(true);\n    setTimeout(() => {\n      handleCartAction({\n        id\n      });\n      setCartLoading(false);\n    }, 1000);\n  };\n\n  return /*#__PURE__*/React.createElement(Col, Object.assign({\n    className: \"mb-4\"\n  }, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Flex, {\n    justify: \"between\",\n    column: true,\n    className: \"border rounded h-100 pb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"overflow-hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"position-relative rounded-top overflow-hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, isIterableArray(files) && files.length === 1 && /*#__PURE__*/React.createElement(Link, {\n    className: \"d-block h-100\",\n    to: `/e-commerce/product-details/${id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-fluid rounded-top\",\n    src: files[0]['src'] || files[0]['base64'],\n    alt: files[0].path,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  })), isIterableArray(files) && files.length > 1 && /*#__PURE__*/React.createElement(Slider, Object.assign({}, sliderSettings, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }), files.map(file => /*#__PURE__*/React.createElement(Link, {\n    className: \"d-block h-100\",\n    to: `/e-commerce/product-details/${id}`,\n    key: file.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-fluid fit-cover w-sm-100 h-sm-100 rounded\",\n    src: file['src'] || file['base64'],\n    alt: file.path,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  })))), isNew && /*#__PURE__*/React.createElement(Badge, {\n    color: \"success\",\n    pill: true,\n    className: \"position-absolute t-0 r-0 mr-2 mt-2 fs--2 z-index-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, \"New\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"fs-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"text-dark\",\n    to: `/e-commerce/product-details/${id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, title)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"fs--1 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"text-500\",\n    href: \"#!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, category)), /*#__PURE__*/React.createElement(Flex, {\n    tag: \"h5\",\n    align: \"center\",\n    className: \"fs-md-2 text-warning mb-0 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, currency, !!sale ? price - price * (sale / 100) : price, !!sale && /*#__PURE__*/React.createElement(\"del\", {\n    className: \"ml-2 fs--1 text-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, currency, price)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"fs--1 mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"Shipping Cost: \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 30\n    }\n  }, shippingCost === 0 ? 'Free' : `${currency}${shippingCost}`)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"fs--1 mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, \"Stock:\", ' ', /*#__PURE__*/React.createElement(\"strong\", {\n    className: classNames({\n      'text-success': isInStock,\n      'text-danger': !isInStock\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, isInStock ? 'Available' : 'Sold-Out')))), /*#__PURE__*/React.createElement(Flex, {\n    align: \"center\",\n    justify: \"between\",\n    className: \"px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(StarCount, {\n    stars: rating,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, \"(\", review, \")\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ButtonIcon, {\n    color: isInFavouriteItems(id) ? 'falcon-danger' : 'falcon-default',\n    size: \"sm\",\n    icon: [isInFavouriteItems(id) ? 'fas' : 'far', 'heart'],\n    onClick: () => isInFavouriteItems(id) ? favouriteItemsDispatch({\n      type: 'REMOVE',\n      id\n    }) : favouriteItemsDispatch({\n      type: 'ADD',\n      payload: {\n        id\n      }\n    }),\n    className: \"mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }), cartLoading ? /*#__PURE__*/React.createElement(ButtonIcon, {\n    color: \"primary\",\n    size: \"sm\",\n    icon: \"circle-notch\",\n    iconClassName: \"fa-spin\",\n    style: {\n      cursor: 'progress'\n    },\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }) : /*#__PURE__*/React.createElement(ButtonIcon, {\n    color: \"primary\",\n    size: \"sm\",\n    icon: \"cart-plus\",\n    onClick: handleAddToCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  })))));\n};\n\nProductGrid.propTypes = {\n  title: PropTypes.string.isRequired,\n  category: PropTypes.string.isRequired,\n  rating: PropTypes.number.isRequired,\n  review: PropTypes.number.isRequired,\n  shippingCost: PropTypes.number.isRequired,\n  sliderSettings: PropTypes.object.isRequired,\n  files: PropTypes.array,\n  sale: PropTypes.number,\n  oldPrice: PropTypes.number,\n  price: PropTypes.number,\n  isInStock: PropTypes.bool,\n  isNew: PropTypes.bool,\n  features: PropTypes.array\n};\nProductGrid.defaultProps = {\n  isNew: false,\n  isInStock: false,\n  files: []\n};\nexport default ProductGrid;","map":{"version":3,"sources":["/Users/matt/Documents/Dev/letter/letter-support/src/components/e-commerce/product/ProductGrid.js"],"names":["React","useContext","useState","PropTypes","Badge","Col","Flex","Link","isIterableArray","Slider","StarCount","classNames","ButtonIcon","AppContext","ProductContext","ProductGrid","id","files","title","category","price","sale","rating","review","shippingCost","isInStock","isNew","sliderSettings","rest","currency","handleCartAction","isInFavouriteItems","favouriteItemsDispatch","cartLoading","setCartLoading","handleAddToCart","setTimeout","length","path","map","file","type","payload","cursor","propTypes","string","isRequired","number","object","array","oldPrice","bool","features","defaultProps"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Badge, Col } from 'reactstrap';\nimport Flex from '../../common/Flex';\nimport { Link } from 'react-router-dom';\nimport { isIterableArray } from '../../../helpers/utils';\nimport Slider from 'react-slick/lib';\nimport StarCount from './StarCount';\nimport classNames from 'classnames';\nimport ButtonIcon from '../../common/ButtonIcon';\nimport AppContext, { ProductContext } from '../../../context/Context';\n\nconst ProductGrid = ({\n  id,\n  files,\n  title,\n  category,\n  price,\n  sale,\n  rating,\n  review,\n  shippingCost,\n  isInStock,\n  isNew,\n  sliderSettings,\n  ...rest\n}) => {\n  const { currency } = useContext(AppContext);\n  const { handleCartAction, isInFavouriteItems, favouriteItemsDispatch } = useContext(ProductContext);\n  const [cartLoading, setCartLoading] = useState(false);\n\n  const handleAddToCart = () => {\n    setCartLoading(true);\n    setTimeout(() => {\n      handleCartAction({ id });\n      setCartLoading(false);\n    }, 1000);\n  };\n\n  return (\n    <Col className=\"mb-4\" {...rest}>\n      <Flex justify=\"between\" column className=\"border rounded h-100 pb-3\">\n        <div className=\"overflow-hidden\">\n          <div className=\"position-relative rounded-top overflow-hidden\">\n            {isIterableArray(files) && files.length === 1 && (\n              <Link className=\"d-block h-100\" to={`/e-commerce/product-details/${id}`}>\n                <img\n                  className=\"img-fluid rounded-top\"\n                  src={files[0]['src'] || files[0]['base64']}\n                  alt={files[0].path}\n                />\n              </Link>\n            )}\n            {isIterableArray(files) && files.length > 1 && (\n              <Slider {...sliderSettings}>\n                {files.map(file => (\n                  <Link className=\"d-block h-100\" to={`/e-commerce/product-details/${id}`} key={file.id}>\n                    <img\n                      className=\"img-fluid fit-cover w-sm-100 h-sm-100 rounded\"\n                      src={file['src'] || file['base64']}\n                      alt={file.path}\n                    />\n                  </Link>\n                ))}\n              </Slider>\n            )}\n\n            {isNew && (\n              <Badge color=\"success\" pill className=\"position-absolute t-0 r-0 mr-2 mt-2 fs--2 z-index-2\">\n                New\n              </Badge>\n            )}\n          </div>\n          <div className=\"p-3\">\n            <h5 className=\"fs-0\">\n              <Link className=\"text-dark\" to={`/e-commerce/product-details/${id}`}>\n                {title}\n              </Link>\n            </h5>\n            <p className=\"fs--1 mb-3\">\n              <a className=\"text-500\" href=\"#!\">\n                {category}\n              </a>\n            </p>\n\n            <Flex tag=\"h5\" align=\"center\" className=\"fs-md-2 text-warning mb-0 mb-3\">\n              {currency}\n              {!!sale ? price - price * (sale / 100) : price}\n              {!!sale && (\n                <del className=\"ml-2 fs--1 text-500\">\n                  {currency}\n                  {price}\n                </del>\n              )}\n            </Flex>\n            <p className=\"fs--1 mb-1\">\n              Shipping Cost: <strong>{shippingCost === 0 ? 'Free' : `${currency}${shippingCost}`}</strong>\n            </p>\n            <p className=\"fs--1 mb-1\">\n              Stock:{' '}\n              <strong className={classNames({ 'text-success': isInStock, 'text-danger': !isInStock })}>\n                {isInStock ? 'Available' : 'Sold-Out'}\n              </strong>\n            </p>\n          </div>\n        </div>\n\n        <Flex align=\"center\" justify=\"between\" className=\"px-3\">\n          <div>\n            <StarCount stars={rating} />\n            <span className=\"ml-1\">({review})</span>\n          </div>\n          <div>\n            <ButtonIcon\n              color={isInFavouriteItems(id) ? 'falcon-danger' : 'falcon-default'}\n              size=\"sm\"\n              icon={[isInFavouriteItems(id) ? 'fas' : 'far', 'heart']}\n              onClick={() =>\n                isInFavouriteItems(id)\n                  ? favouriteItemsDispatch({ type: 'REMOVE', id })\n                  : favouriteItemsDispatch({ type: 'ADD', payload: { id } })\n              }\n              className=\"mr-2\"\n            />\n            {cartLoading ? (\n              <ButtonIcon\n                color=\"primary\"\n                size=\"sm\"\n                icon=\"circle-notch\"\n                iconClassName=\"fa-spin\"\n                style={{ cursor: 'progress' }}\n                disabled\n              />\n            ) : (\n              <ButtonIcon color=\"primary\" size=\"sm\" icon=\"cart-plus\" onClick={handleAddToCart} />\n            )}\n          </div>\n        </Flex>\n      </Flex>\n    </Col>\n  );\n};\n\nProductGrid.propTypes = {\n  title: PropTypes.string.isRequired,\n  category: PropTypes.string.isRequired,\n  rating: PropTypes.number.isRequired,\n  review: PropTypes.number.isRequired,\n  shippingCost: PropTypes.number.isRequired,\n  sliderSettings: PropTypes.object.isRequired,\n  files: PropTypes.array,\n  sale: PropTypes.number,\n  oldPrice: PropTypes.number,\n  price: PropTypes.number,\n  isInStock: PropTypes.bool,\n  isNew: PropTypes.bool,\n  features: PropTypes.array\n};\n\nProductGrid.defaultProps = { isNew: false, isInStock: false, files: [] };\n\nexport default ProductGrid;\n"]},"metadata":{},"sourceType":"module"}